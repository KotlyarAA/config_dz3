# 1. Общее описание

config_parser.py предназначен для парсинга конфигурационных файлов с поддержкой:

- Объявления глобальных переменных.

- Массивов в формате array(...).

- Арифметических выражений с базовыми операциями (+, -, *, /, mod, max).

После обработки входного файла, конфигурация сохраняется в виде XML-документа, отражающего структуру объявленных переменных и их значений. Это полезно для преобразования текстовых конфигураций в структурированные данные.

# 2. Описание всех функций и настроек

**Класс ConfigParser**

__init__(self)

Инициализирует пустой словарь constants для хранения глобальных переменных.
Создает корневой XML-элемент config.

**parse_file(file_path)**

Читает конфигурационный файл построчно.
Каждую строку передает в метод parse_line.

**parse_line(line)**

Определяет тип строки:
Игнорирует пустые строки и комментарии (#).
Обрабатывает глобальные переменные через parse_global.
Вычисляет выражения через evaluate_expression.
Вызывает ошибку, если синтаксис строки не распознан.

**parse_global(line)**

Обрабатывает строки глобальных переменных в формате global <name> = <value>;.
С помощью регулярных выражений извлекает имя переменной и значение.
Значение преобразуется через parse_value.
Сохраняет переменную в словарь constants и добавляет ее в XML через add_to_xml.

**parse_value(value)**

Преобразует строку значения в объект Python:
Массивы (array(...)) через parse_array.
Числа — в int.
Подставляет значения уже объявленных переменных.
Вызывает ошибку для неизвестных форматов.

**parse_array(array_str)**

Разбирает массивы в формате array(val1, val2, ...).
Возвращает список значений.

**evaluate_expression(expression)**

Вычисляет выражения в формате ^ <expression>:
Поддерживаются операции: +, -, *, /, mod, max.
Использует стек для вычислений.
Выводит результат выражения в консоль.

**add_to_xml(name, value)**

Добавляет глобальную переменную и ее значение в XML:
Если значение — массив, создает дочерние элементы <value>.
Для чисел добавляет текстовое значение.

**to_xml()**

Преобразует XML-дерево в строку для вывода.
# 3. Описание команд для сборки проекта

Запуск
Поместить код в файл config_parser.py.
Запустить программу с указанием пути к файлу конфигурации:

_python config_parser.py <file_path>_

#4. Пример запуска программы
Пример файла конфигурации (config.txt)
![image](https://github.com/user-attachments/assets/75d9188d-a835-4a5c-9cc7-004dcf997da2)

Запуск

![image](https://github.com/user-attachments/assets/21b691fd-eab0-4aab-b52c-9dee789e68aa)

